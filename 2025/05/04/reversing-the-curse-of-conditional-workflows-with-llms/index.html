<!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--><!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Notes about startups, AI, health-care and overall engineering"><meta name=author content="Hadi Javeed"><link href=https://hadijaveed.me/2025/05/04/reversing-the-curse-of-conditional-workflows-with-llms/ rel=canonical><link href=../../../../2024/11/17/cognitive-architecture-patterns-in-health-care/ rel=prev><link href=../../../07/26/ai-productivity-paradox-faster-not-smarter/ rel=next><link rel=alternate type=application/rss+xml title="RSS feed" href=../../../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../../../feed_rss_updated.xml><link rel=icon href=../../../../assets/logo.jpeg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Can we reverse the curse of rigid journeys &amp; workflows with LLMs? - Hadi Javeed's blog</title><link rel=stylesheet href=../../../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XS27CVTCE3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XS27CVTCE3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XS27CVTCE3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta property=og:type content=website><meta property=og:title content="Can we reverse the curse of rigid journeys & workflows with LLMs? - Hadi Javeed's blog"><meta property=og:description content="Notes about startups, AI, health-care and overall engineering"><meta property=og:image content=https://hadijaveed.me/assets/images/social/posts/reversing-the-curse-of-conditional-journeys-with-llm-initial-take.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://hadijaveed.me/2025/05/04/reversing-the-curse-of-conditional-workflows-with-llms/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Can we reverse the curse of rigid journeys & workflows with LLMs? - Hadi Javeed's blog"><meta name=twitter:description content="Notes about startups, AI, health-care and overall engineering"><meta name=twitter:image content=https://hadijaveed.me/assets/images/social/posts/reversing-the-curse-of-conditional-journeys-with-llm-initial-take.png><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#can-we-reverse-the-curse-of-rigid-journeys-workflows-with-llms class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title="Hadi Javeed's blog" class="md-header__button md-logo" aria-label="Hadi Javeed's blog" data-md-component=logo> <img src=../../../../assets/logo.jpeg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Hadi Javeed's blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Can we reverse the curse of rigid journeys &amp; workflows with LLMs? </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-hidden=true type=radio name=__palette id=__palette_0> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../about/ class=md-tabs__link> About me </a> </li> <li class=md-tabs__item> <a href=https://newsletter.hadijaveed.me class=md-tabs__link> Subscribe </a> </li> <li class=md-tabs__item> <a href=../../../../archive/2025/ class=md-tabs__link> Archive </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title="Hadi Javeed's blog" class="md-nav__button md-logo" aria-label="Hadi Javeed's blog" data-md-component=logo> <img src=../../../../assets/logo.jpeg alt=logo> </a> Hadi Javeed's blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../about/ class=md-nav__link> <span class=md-ellipsis> About me </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=https://newsletter.hadijaveed.me class=md-nav__link> <span class=md-ellipsis> Subscribe </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../archive/2025/ class=md-nav__link> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <!-- Page content --> <article class="md-content__inner md-typeset"> <header class=md-post__header> <!-- Post authors --> <!-- Post metadata --> <div class="md-post__meta md-meta"> <div class=md-meta__list> <div style="margin-right: 1rem;"> <span class=md-author> <a href=https://www.linkedin.com/in/hadijaveed/ > <img src="https://avatars.githubusercontent.com/u/10227760?v=5" alt="Hadi Javeed"> </a> </span> </div> <!-- Post date --> <div class="md-meta__item blog-meta-header"> <time datetime="2025-05-04 00:00:00+00:00">2025/05/04</time></div> <!-- Post categories --> <!-- Post readtime --> <div class="md-meta__item blog-meta-header"> 4 min read </div> </div> <!-- Draft marker --> </div> </header> <h1 id=can-we-reverse-the-curse-of-rigid-journeys-workflows-with-llms>Can we reverse the curse of rigid journeys &amp; workflows with LLMs?<a class=headerlink href=#can-we-reverse-the-curse-of-rigid-journeys-workflows-with-llms title="Permanent link">¶</a></h1> <p>Healthcare is littered with brittle decision-trees. Pre-op instructions, chronic-care check-ins, discharge follow-ups—each new edge-case multiplies the branches. Most workflows we have are cron-based, running at specific times and are very hard to personalize around patient needs.</p> <!-- more --> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Let's build on an idea. No more endless if/then/else trees—just agents that watch, learn, and nudge exactly when it matters in healthcare.</p> </div> <p>Below I sketch a different approach inspired by <a href=https://storage.googleapis.com/deepmind-media/Era-of-Experience%20/The%20Era%20of%20Experience%20Paper.pdf target=_blank>DeepMind's "Era of Experience" paper</a>: treat patient journeys as living agents that observe real-time data, reason over it, and choose the next best action—without needing humans to hand-craft every path.</p> <h2 id=a-concrete-example>A concrete example<a class=headerlink href=#a-concrete-example title="Permanent link">¶</a></h2> <p>Let's take an example of pre-appointment workflow for provider, (click to zoom the image):</p> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=/assets/simple-rigid-journey.png data-desc-position=bottom><img src=/assets/simple-rigid-journey.png alt="Simple Rigid Journey" id=simple-rigid-journey style="display: block; margin-left: auto; margin-right: auto; width: 100%; height: 500px; object-fit: cover;"></a></p> <style>
@media (max-width: 767px) {
  #simple-rigid-journey {
    height: auto !important;
  }
}
</style> <p>Looks sane—until you handle language preferences, missing lab-work, travel distance... you get the point. You'll be back to spaghetti code, and handling every edge case becomes difficult, not to mention dealing with diverse data makes it worse.</p> <h2 id=enter-the-era-of-experience>Enter the Era of Experience<a class=headerlink href=#enter-the-era-of-experience title="Permanent link">¶</a></h2> <p>Silver &amp; Sutton argue we're moving from imitating past data to learning from <a href=https://storage.googleapis.com/deepmind-media/Era-of-Experience%20/The%20Era%20of%20Experience%20Paper.pdf target=_blank>live experience</a>:</p> <ul> <li><strong>Streams of Experience</strong>: Agents maintain persistent internal state across months or years (e.g., a wellness coach monitoring wearables)</li> <li><strong>Autonomous Actions &amp; Observations</strong>: Instead of reactive agents where you chat and get a reply, agents can execute actions like sending reminders to patients or flagging issues for doctors</li> <li><strong>Grounded Rewards</strong>: Measuring environment-driven signals like biomarker data, heart rate, PHQ9 scores, or FHIR observation resources</li> <li><strong>Beyond Human Level Reasoning</strong>: Language is universal but inefficient; experiential agents can invent non-linguistic internal codes and couple them to learned world-models for planning</li> </ul> <p>I want these four pillars baked into patient journeys.</p> <h2 id=an-observer-based-paradigm-for-patient-experience-personalization>An observer-based paradigm for patient experience personalization<a class=headerlink href=#an-observer-based-paradigm-for-patient-experience-personalization title="Permanent link">¶</a></h2> <ul> <li>Agents maintain streams of experience by observing EHR data, wearables, and internal application data</li> <li>Using an observer pattern where agents process incoming data</li> <li>Based on observations, agents use a broad set of policies and rules to carry out actions</li> <li>We can feed in FHIR APIs, event-based data, monitor data for an agent to observe</li> <li>As context windows improve, agents can build upon previous learning while incorporating new information</li> </ul> <p><a class=glightbox data-type=image data-width=auto data-height=auto href=/assets/llm-based-journey-arch.png data-desc-position=bottom><img src=/assets/llm-based-journey-arch.png alt="LLM Based Journey Architecture" id=llm-journey-arch style="display: block; margin-left: auto; margin-right: auto; width: 100%; height: 500px; object-fit: cover;"></a></p> <style>
@media (max-width: 767px) {
  #llm-journey-arch {
    height: auto !important;
  }
}
</style> <p>Agents carry out actions while being aware of their past actions, which also become observable data.</p> <h2 id=optimizing-for-the-rewards>Optimizing for the rewards<a class=headerlink href=#optimizing-for-the-rewards title="Permanent link">¶</a></h2> <p>These policies and journeys are built by subject matter experts like clinicians and researchers based on consensus about how to observe patient state and implement automation.</p> <h2 id=sketching-the-code-examples>Sketching the code examples<a class=headerlink href=#sketching-the-code-examples title="Permanent link">¶</a></h2> <div class="language-py highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>w</span> <span class=o>=</span> <span class=n>Workflow</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>policy</span><span class=o>=</span><span class=s2>"""</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=s2>You're a virtual MA. Optimize for surgery readiness while minimizing alert fatigue.</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=si>{add_rules}</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=si>{policies_from_subject_matter_experts}</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=s2>"""</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>actions</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=s2>"action.send_sms"</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>        <span class=s2>"action.order_covid_test"</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>        <span class=s2>"action.notify_care_team"</span><span class=p>,</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>        <span class=s2>"action.notify_primary_care_physician"</span><span class=p>,</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>        <span class=s2>"action.&lt;concrete_action_or_tool_name&gt;"</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    <span class=p>],</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>    <span class=n>recent_past_actions</span><span class=o>=</span><span class=s2>"""</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=s2>        </span><span class=si>{recent_past_actions_taken}</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=s2>    """</span><span class=p>,</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    <span class=n>store</span><span class=o>=</span><span class=n>PostgresStore</span><span class=p>(),</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=p>)</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=n>w</span><span class=o>.</span><span class=n>add_event</span><span class=p>({</span><span class=s2>"type"</span><span class=p>:</span> <span class=s2>"observation"</span><span class=p>,</span> <span class=s2>"kg"</span><span class=p>:</span> <span class=mi>102</span><span class=p>,</span> <span class=s2>"ts"</span><span class=p>:</span> <span class=s2>"2025-05-04T09:00Z"</span><span class=p>})</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=n>w</span><span class=o>.</span><span class=n>add_event</span><span class=p>({</span><span class=s2>"type"</span><span class=p>:</span> <span class=s2>"appointment_booked"</span><span class=p>,</span> <span class=o>...</span> <span class=p>})</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=c1>## more events for realtime API</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=k>for</span> <span class=n>action</span> <span class=ow>in</span> <span class=n>w</span><span class=o>.</span><span class=n>decide</span><span class=p>():</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>    <span class=n>execute</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span></code></pre></div> <p>LLMs can summarize past actions, and as context windows grow, they can take data in any format or store it long-term.</p> <p>We can also use another LLM as a policy judge:</p> <div class="language-py highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>for</span> <span class=n>action</span> <span class=ow>in</span> <span class=n>w</span><span class=o>.</span><span class=n>decide</span><span class=p>():</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>llm_as_policy_judge_decision</span> <span class=o>=</span> <span class=n>llm_as_policy_judge</span><span class=o>.</span><span class=n>evaluate</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=k>if</span> <span class=n>llm_as_policy_judge_decision</span> <span class=o>==</span> <span class=s2>"yes"</span><span class=p>:</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=n>execute</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span></code></pre></div> <p>Or to mitigate risks, LLMs could predict the severity of actions and bring in human oversight when needed:</p> <div class="language-py highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>for</span> <span class=n>action</span> <span class=ow>in</span> <span class=n>w</span><span class=o>.</span><span class=n>decide</span><span class=p>():</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>llm_as_policy_judge_predicted_acuity</span> <span class=o>=</span> <span class=n>llm_as_policy_judge</span><span class=o>.</span><span class=n>acuity</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=k>if</span> <span class=n>llm_as_policy_judge_predicted_acuity</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>"high"</span><span class=p>,</span> <span class=s2>"medium"</span><span class=p>]:</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=n>care_team_decision</span> <span class=o>=</span> <span class=n>flag_care_team</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=k>if</span> <span class=n>care_team_decision</span> <span class=o>==</span> <span class=s2>"yes"</span><span class=p>:</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>            <span class=n>execute</span><span class=p>(</span><span class=n>action</span><span class=p>)</span>
</span></code></pre></div> <h2 id=upsides-of-this-approach>Upsides of this approach<a class=headerlink href=#upsides-of-this-approach title="Permanent link">¶</a></h2> <ul> <li>Scales to thousands of edge-cases without exploding DAGs</li> <li>Handles messy data LLMs can understand HL7, FHIR, wearable APIs and unstructured notes etc..</li> <li>Enables culturally-relevant comms (tone, language, reading level) on the fly</li> </ul> <h2 id=downsides>Downsides<a class=headerlink href=#downsides title="Permanent link">¶</a></h2> <ul> <li>Deterministic, auditable flows become stochastic—regulators will ask "why?"</li> <li>Reward hacking is real: bad metrics → spam or worse</li> <li>Streaming RL + HIPAA-grade logging is early days</li> </ul> <h2 id=mitigating-the-risks>Mitigating the risks<a class=headerlink href=#mitigating-the-risks title="Permanent link">¶</a></h2> <ul> <li>Policies and rewards must be well-defined</li> <li>Reasoning models need to predict severity accurately. For high-acuity actions like medication recommendations, care-team members must be involved. o3 model is already showing positive signs.</li> <li>Subject matter experts need to craft clear policies on what AI handles vs. what requires human intervention</li> <li>Extensive simulations and test scenarios are needed to validate the approach</li> </ul> <h2 id=my-hope-and-conclusion>My hope and conclusion<a class=headerlink href=#my-hope-and-conclusion title="Permanent link">¶</a></h2> <p>Rigid pathways got us this far, but they break under real-world complexity. By letting agents experience patients' lived data—and grounding them in clinical rewards—we can deliver care that adapts like a good nurse: quietly watching, acting only when helpful.</p> <p>Making this vision reality requires three things: well-crafted AI policies that encode clinical wisdom, a willingness to experiment in safe but meaningful ways, and subject matter experts collaborating across disciplines. The technology exists—what's needed now is the courage to reimagine workflows from first principles.</p> <p>At <a href=https://revelaihealth.com/ >RevelAI Health</a>, we're bringing this approach to life in the MSK space. Our platform orchestrates pre-op and post-op journeys, unifies fragmented communications, and applies generative AI to handle complex operative workflows. We're seeing early validation that intelligent agents can dramatically reduce the friction patients experience while giving time back to care teams.</p> <p>Interested in joining us on this journey? We're hiring our <a href=https://revelaihealth.notion.site/Founding-Engineer-1dd51a01bc8d803e923de742623c1782 target=_blank>founding engineer</a> to help shape how AI transforms healthcare workflows from rigid decision trees to living, adaptive experiences.</p> <div class=subscribe-container> <h3>Subscribe</h3> <p>Honest takes on AI, startups, and digital health—delivered to your inbox.</p> <p>Your privacy is paramount. Expect content once or twice a month. Unsubscribe anytime if you don't like it.</p> <a href=https://newsletter.hadijaveed.me class="md-button md-button--primary" target=_blank>Get Email Updates</a> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../../../2024/11/17/cognitive-architecture-patterns-in-health-care/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Cognitive Architecture Patterns in Health Care for LLMs"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Cognitive Architecture Patterns in Health Care for LLMs </div> </div> </a> <a href=../../../07/26/ai-productivity-paradox-faster-not-smarter/ class="md-footer__link md-footer__link--next" aria-label="Next: AI Gave Engineers 20 Hours Back Per Week. Why Aren't We Shipping Faster?"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> AI Gave Engineers 20 Hours Back Per Week. Why Aren't We Shipping Faster? </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> © 2024 <a href=https://www.linkedin.com/in/hadijaveed target=_blank rel=noopener>Hadi Javeed</a> </div> </div> <div class=md-social> <a href=https://github.com/hadijaveed target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"></path></svg> </a> <a href=https://twitter.com/hadijpk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"></path></svg> </a> <a href=https://www.linkedin.com/in/hadijaveed target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["toc.integrate", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "navigation.expand", "navigation.indexes", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.footer", "navigation.tabs", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>